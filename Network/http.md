## 인터넷과 웹

- 인터넷 : 전 세계에 있는 컴퓨터들이 TCP/IP 프로토콜을 사용해서 데이터를 주고 받을 수 있는 네트워크
- 웹 : 인터넷을 통해 접근 가능한 웹페이지들을 연결하는 시스템
  - HTTP, URL, HTML로 구성
  - 인터넷 상에서 동작하는 하나의 서비스

## HTTP

- Hypertext Transfer Protocol
- 웹상에서 데이터를 주고받는 프로토콜
- 요청 `request` 과 응답 `response` 으로 이루어짐

### 특징

- 클라이언트 서버 구조
- stateless : 이전의 상태를 기억하지 않음
- connectionless : 요청, 응답이 완료되면 연결을 끊음
- method

  - 안전 : 읽기 전용인지
  - 멱등 : 동일한 요청을 계속 했을 때 서버의 상태가 동일한지

  |         |                    역할                     | 안전 | 멱등 | 캐시 |
  | :-----: | :-----------------------------------------: | :--: | :--: | :--: |
  |   GET   |                 리소스 획득                 |  O   |  O   |  O   |
  |  POST   |                 엔티티 전송                 |  X   |  X   |  X   |
  |   PUT   |              리소스 완전 대체               |  X   |  O   |  X   |
  | DELETE  |                 리소스 삭제                 |  X   |  O   |  X   |
  |  PATCH  |              리소스 부분 수정               |  X   |  X   |  X   |
  |  HEAD   | GET 메서드로 요청했을 때 돌아올 헤더를 요청 |  O   |  O   |  O   |
  | OPTIONS |        서버에서 지원하는 method 확인        |  O   |  O   |  X   |

- 응답 코드
  - 2XX : Success
  - 3XX : Redirection
  - 4XX : Client Error
  - 5XX : Server Error

### 버전

- HTTP/1.1
  - 커넥션당 하나의 요청만 가능
  - 헤더를 압축하지 않음
- HTTP/2.0
  - 한 번에 여러 요청 가능
  - 헤더를 압축
- HTTP/3.0
  - UDP 프로토콜을 사용

## HTTPS

### 대칭키

- 암호화, 복호화에 같은 키를 사용
- 대칭키를 서로 주고 받는데 유출 위험

### 비대칭키

- 비밀키로 암호화 -> 공개키로만 복호화 가능
- 공개키로 암호화 -> 비밀키로만 복호화 가능

### SSL 인증서 발급 과정

- 서버 -> CA / 내용 : 서버의 공개키, 서버의 정보
- CA가 서버로부터 받은 정보들을 담아 SSL 인증서 발급
- CA의 비밀키로 SSL 인증서를 암호화
- CA -> 서버 / 암호화된 SSL 인증서 전달

### 클라이언트, 서버 SSL 인증서 검증

- 서버 -> 클라이언트 / CA가 발급한 암호화된 SSL 인증서를 전송
- 클라이언트는 가지고 있는 CA의 공개키로 SSL 인증서를 복호화
- 복호화 성공 시 인증서 검증 완료

### 대칭키 교환

- 클라이언트는 대칭키를 생성 후 복호화된 SSL 인증서에 있는 서버의 공개키를 사용하여 암호화
- 클라이언트 -> 서버 / 대칭키 전달
- 서버의 비밀키를 통하여 전달받은 대칭키를 복호화
- 대칭키 교환 완료
