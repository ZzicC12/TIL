## 실행 컨텍스트

- 코드를 실행하는데 필요한 환경을 제공하는 객체
- 렉시컬 환경 : 식별자, 스코프를 담당
- 실행 컨텍스트 스택 : 실행 순서를 관리

## 렉시컬 환경

### 1. 환경 레코드

- 식별자와 식별자에 바인딩 된 값을 관리
- this 바인딩 결정
- 전역 렉시컬 환경
  - 전역 객체 + `var` 키워드로 선언한 전역 변수, 함수 선언문으로 정의된 전역 함수
  - `let`, `const` 키워드로 선언한 전역 변수
- 함수 렉시컬 환경
  - 매개변수 + `arguments` 객체 + 함수 내부에서 선언한 지역 변수, 중첩 함수

### 2. 외부 렉시컬 환경에 대한 참조

- 상위 스코프를 가리킴
- 전역 렉시컬 환경 : `null`이 할당
- 함수 렉시컬 환경 : 해당 함수가 평가된 시점에 실행 중인 실행 컨텍스트의 렉시컬 환경의 참조가 할당
- 스코프 체인을 구현

## 평가와 실행

### 평가

- 실행 컨텍스트를 생성
- 변수, 함수의 선언문만 먼저 실행하여 해당 실행 컨텍스트의 렉시컬 환경의 환경 레코드에 등록

### 실행

- 선언문 외의 코드를 실행하며 렉시컬 환경의 환경 레코드를 참조하거나 값을 업데이트
- 현재 실행 중인 실행 컨텍스트의 렉시컬 환경의 환경 레코드에서 식별자를 검색
- 현재 렉시컬 환경에서 찾을 수 없다면 외부 렉시컬 환경에 대한 참조가 가리키는 렉시컬 환경에서 재검색
- 전역 렉시컬 환경에서도 검색할 수 없다면 `Reference Error`
- 전역 코드 실행 시 함수 호출을 만나면 해당 함수 평가 시작
